<link rel="stylesheet" href="files/main.css" />
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
    const chapters = [
        { title: 'Intro', link: '0.md' },
        { title: '1', link: '1-thepull.md' },
        { title: '2', link: '2-mindset.md' },
        { title: '3', link: '3-outcomes.md' },
        { title: '4', link: '4-distribution.md' },
        { title: '5', link: '5-how-to-solve.md' },
        { title: '6', link: '6-marathon.md' }
    ];

    let links = "";
    chapters.forEach((chapter, index) => {
        links += '<span style="margin-right: 8px;"><a href="#" onclick="return onFetchChapter(\''+chapter.link+'\')">'+chapter.title+'</a></span>';
    })

    function onFetchChapter(link) {
        fetch('chapters/'+link)
            .then(response => response.text())
            .then(text => {
                document.getElementById('text').innerHTML = marked.parse(text);
            });

        return false;
    }

    onFetchChapter(chapters[0].link);
</script>
<body>
    <div id="nav">
    </div>

    <div id="text"></div>
</body>

<script>
    document.getElementById("nav").innerHTML = links;
</script>